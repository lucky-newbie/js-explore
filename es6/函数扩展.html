<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <h2>函数扩展</h2>
    参数默认值
    rest参数
    扩展运算符
    箭头函数
    this绑定
    尾调用
</body>
<script>

  {
    // 函数参数默认值, 默认值后面不允许没有默认值的参数出现
    function test (x, y = 'default') {
      console.log('x',x, 'y', y)
    }
    test('aaaa')
  }
  console.log('******分割线*******')
  {
    let x = 'test';
    function test2(x, y = x) {
      console.log('作用域', x, y)
    }
    test2('kill');// kill kill
  }

  {
    // ... 用来处理不知道多少个参数的场景， 将参数转换为数组形式
    function test3(...arg){
      console.log(arg, arguments)
      for (let v of arg) {
        console.log('rest', v)
      }
    }
    test3(1,2,3)
  }
  {
    const a = [1,2,3]
    console.log(...a)
  }

  {
    // 箭头函数
    let arrow = v => v * 2;
    console.log('arrow', arrow(2));
  }

  {
    // 尾调用， 函数的最后一句话是不是一个函数, 如示例
    // 尾调用用来提升代码性能操作，比如在递归中使用尾调用
    function tail (x) {
      console.log('tail', x)
    }
    function fn (x) {
      return tail(x)
    }
  }
</script>
</html>